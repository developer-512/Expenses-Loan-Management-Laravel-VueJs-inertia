import{T as b,q as w,f as a,a as m,u as l,w as y,F as h,o as n,Z as S,b as t,j as g,d as o,g as d,e as L,i as c,E as x,J as P,G as A,t as i}from"./app-BO1xroaN.js";import{_ as V}from"./AuthenticatedLayout-CRxyutFU.js";import{_ as T}from"./Pagination-DVgIO9DM.js";import"./ApplicationLogo-BNQ3Nniu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"grid grid-cols-2 md:grid-cols-4 space-x-0 md:space-x-2 w-full text-center mt-4"},q={key:0},D={key:0},F={key:0},U={class:"w-full mt-4"},$={class:""},C={class:"w-full flex items-center space-x-5"},M=["disabled"],N={key:0},J={class:"py-12"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},O={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-700"},E={class:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},I={class:"inline-block min-w-full shadow rounded-lg overflow-hidden"},R={class:"relative overflow-x-auto"},K={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},Y={class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},G={key:0},Z={key:1},z={key:2},H={class:"w-5 sm:hidden px-6 py-4"},Q={class:"hidden md:table-cell px-6 py-4"},W={class:"hidden md:table-cell px-6 py-4"},X={class:"hidden md:table-cell px-6 py-4"},ee={class:"hidden md:table-cell px-6 py-4"},te={class:"px-6 py-4"},se=["onClick"],de={__name:"Index",props:{loans:{type:Object,default:()=>[]},months:{type:Array,default:["January","January","February","March","April","May","June","July","August","September","October","November","December"]},search:{type:Object,default:()=>{}},is_Searching:{type:Boolean,default:!1}},setup(f){const p=f;console.log(p.loans);const _=b({});b({});const r=b({search_query:"",loan_status:"",receivable_loans:"",all_loans:"",my_loans:""});w(()=>{p.search&&(r.search_query=p.search.search_query||"",r.loan_status=p.search.loan_status||"",r.receivable_loans=p.search.receivable_loans||"",r.all_loans=p.search.all_loans||"",r.my_loans=p.search.my_loans||"")});const k=()=>r.get(route("loans.index")),v=u=>{confirm("Do you really want to delete?")&&_.delete(`loans/${u}`)};return(u,e)=>(n(),a(h,null,[m(l(S),{title:"Loans"}),m(V,null,{header:y(()=>[e[11]||(e[11]=t("div",{class:"flex items-center justify-between"},[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Loans ")],-1)),t("div",j,[m(l(g),{href:u.route("loans.index")+"?my_loans=true",class:"w-auto inline-flex justify-between items-center px-5 py-2.5 mt-3 text-sm font-medium text-center text-white bg-violet-700 rounded-lg focus:ring-4 focus:ring-violet-200 dark:focus:ring-violet-900 hover:bg-violet-800"},{default:y(()=>[e[6]||(e[6]=o(" Loans I need to Pay ")),l(r).my_loans?(n(),a("span",q,"➘")):d("",!0)]),_:1},8,["href"]),m(l(g),{href:u.route("loans.index")+"?receivable_loans=true",class:"w-auto inline-flex justify-between mt-3 items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-sky-700 rounded-lg focus:ring-4 focus:ring-sky-200 dark:focus:ring-sky-900 hover:bg-sky-800"},{default:y(()=>[e[7]||(e[7]=o(" Loans I gave ")),l(r).receivable_loans?(n(),a("span",D,"➘")):d("",!0)]),_:1},8,["href"]),m(l(g),{href:u.route("loans.index")+"?all_loans=true",class:"w-auto inline-flex justify-between mt-3 items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-teal-700 rounded-lg focus:ring-4 focus:ring-teal-200 dark:focus:ring-teal-900 hover:bg-teal-800"},{default:y(()=>[e[8]||(e[8]=o(" All Loans ")),l(r).all_loans?(n(),a("span",F,"➘")):d("",!0)]),_:1},8,["href"]),m(l(g),{href:u.route("loans.create"),class:"w-auto inline-flex items-center px-5 py-2.5 mt-3 text-sm font-medium text-center text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"},{default:y(()=>e[9]||(e[9]=[o("Add New Loan")])),_:1},8,["href"])]),t("div",U,[t("div",$,[t("form",{onSubmit:L(k,["prevent"]),class:"mx-auto"},[l(r).all_loans?c((n(),a("input",{key:0,type:"hidden","onUpdate:modelValue":e[0]||(e[0]=s=>l(r).all_loans=s),name:"all_loans"},null,512)),[[x,l(r).all_loans]]):d("",!0),l(r).receivable_loans?c((n(),a("input",{key:1,type:"hidden","onUpdate:modelValue":e[1]||(e[1]=s=>l(r).receivable_loans=s),name:"receivable_loans"},null,512)),[[x,l(r).receivable_loans]]):d("",!0),l(r).my_loans?c((n(),a("input",{key:2,type:"hidden","onUpdate:modelValue":e[2]||(e[2]=s=>l(r).my_loans=s),name:"receivable_loans"},null,512)),[[x,l(r).my_loans]]):d("",!0),t("div",C,[c(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=s=>l(r).search_query=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search by loan title/amount"},null,512),[[x,l(r).search_query]]),c(t("select",{id:"loan_status",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":e[4]||(e[4]=s=>l(r).loan_status=s)},e[10]||(e[10]=[t("option",{value:""},"Select Status to Filter",-1),t("option",{value:"Unpaid"},"Unpaid",-1),t("option",{value:"Paying"},"Paying",-1),t("option",{value:"Paid"},"Paid",-1)]),512),[[P,l(r).loan_status]]),t("button",{disabled:l(r).processing,class:"inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800",type:"submit"},"Search",8,M),f.is_Searching?(n(),a("span",N,[t("button",{class:"inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-danger-700 rounded-lg focus:ring-4 focus:ring-danger-200 dark:focus:ring-danger-900 hover:bg-danger-800",onClick:e[5]||(e[5]=s=>l(r).reset("search_query","search_loan_year","search_loan_month"))},"Clear")])):d("",!0)])],32)])])]),default:y(()=>[t("div",J,[t("div",B,[t("div",O,[t("div",E,[t("div",I,[t("div",R,[t("table",K,[e[24]||(e[24]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},[o(" Payable to/"),t("br"),o("Receivable from ")]),t("th",{scope:"col",class:"px-6 py-3 hidden md:table-cell"}," Amount "),t("th",{scope:"col",class:"px-6 py-3 hidden md:table-cell"}," Loan Date "),t("th",{scope:"col",class:"px-6 py-3 hidden md:table-cell"}," Status "),t("th",{scope:"col",class:"px-6 py-3 hidden md:table-cell"}," Payment Details "),t("th",{scope:"col",class:"px-6 py-3"}," Actions ")])],-1)),t("tbody",null,[(n(!0),a(h,null,A(f.loans.data,s=>(n(),a("tr",{key:s.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[t("td",Y,[s.title?(n(),a("span",G,[o(" Title: "+i(s.title),1),e[12]||(e[12]=t("br",null,null,-1))])):d("",!0),s.lender.id!=u.$page.props.auth.user.id?(n(),a("span",Z,[e[13]||(e[13]=o(" You Took This Loan From ")),t("strong",null,i(s.lender.name),1)])):d("",!0),s.lender.id==u.$page.props.auth.user.id?(n(),a("span",z,[t("strong",null,i(s.borrower.name),1),e[14]||(e[14]=o(" Took This Loan From You "))])):d("",!0),t("span",H,[e[15]||(e[15]=t("br",null,null,-1)),e[16]||(e[16]=o(" Amount: PKR ")),t("strong",null,i(s.amount),1),e[17]||(e[17]=t("br",null,null,-1)),o(" On: "+i(s.loan_date),1),e[18]||(e[18]=t("br",null,null,-1)),e[19]||(e[19]=o(" Status: ")),t("strong",null,i(s.status),1),e[20]||(e[20]=t("br",null,null,-1)),o(" Paid Amount:"+i(s.paid_amount)+" "+i(s.payment_date),1)])]),t("td",Q,"PKR "+i(s.amount),1),t("td",W,i(s.loan_date),1),t("td",X,i(s.status),1),t("td",ee,[o(" Paid Amount:"+i(s.paid_amount),1),e[21]||(e[21]=t("br",null,null,-1)),o(" "+i(s.payment_date),1)]),t("td",te,[t("button",{onClick:re=>v(s.id),class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-red-600 rounded-lg focus:ring-4"},"Delete",8,se),e[23]||(e[23]=o("   ")),m(l(g),{href:u.route("loans.edit",s.id),class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-500 rounded-lg focus:ring-4"},{default:y(()=>e[22]||(e[22]=[o("Edit")])),_:2},1032,["href"])])]))),128))])])]),m(T,{pagination:f.loans},null,8,["pagination"])])])])])])]),_:1})],64))}};export{de as default};
